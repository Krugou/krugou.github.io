00:00 +0: loading C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart
00:00 +0: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Territory unlock progression should work correctly
Loading events from Firebase...
Firebase not available, loading from JSON...
00:00 +0 -1: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Territory unlock progression should work correctly [E]
  Expected: <1>
    Actual: <0>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test\integration_test.dart 107:7                    main.<fn>.<fn>
  
Error loading event data from JSON: Binding has not yet been initialized.
The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
00:00 +0 -1: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Game speed functionality should work correctly
00:00 +1 -1: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Language preferences should work correctly
00:00 +2 -1: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Territory configuration should maintain original thresholds
00:00 +2 -2: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Territory configuration should maintain original thresholds [E]
  Expected: <10>
    Actual: <14>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test\integration_test.dart 153:7                    main.<fn>.<fn>
  
00:00 +2 -2: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Next unlock information should be dynamic
00:00 +2 -3: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Next unlock information should be dynamic [E]
  Expected: 'urban_center'
    Actual: 'suburbs'
     Which: is different.
            Expected: urban_cent ...
              Actual: suburbs
                      ^
             Differ at offset 0
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test\integration_test.dart 165:7                    main.<fn>.<fn>
  
00:00 +2 -3: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Game state serialization should include new fields
00:00 +3 -3: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Event system integration should work with new territories
00:00 +4 -3: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Preferences service should handle errors gracefully
00:00 +5 -3: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Manual immigration should work with new territory system
00:00 +5 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Integration Tests - Territory System with Localization Manual immigration should work with new territory system [E]
  Expected: <2>
    Actual: <3>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test\integration_test.dart 233:7                    main.<fn>.<fn>
  
00:00 +5 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/integration_test.dart: Performance Tests Territory configuration lookup should be efficient
00:00 +6 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/territory_config_test.dart: Territory Configuration Tests Territory thresholds should match new enhanced progression
00:00 +7 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/territory_config_test.dart: Territory Configuration Tests getAvailableConfigs should return territories based on population
00:00 +8 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/territory_config_test.dart: Territory Configuration Tests getNextUnlockConfig should return next territory to unlock
00:00 +9 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/territory_config_test.dart: Territory Configuration Tests EventSystem.getAvailableTerritories should work with new configuration
00:00 +10 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/territory_config_test.dart: Territory Configuration Tests Territory types should be correctly assigned
00:00 +11 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/territory_config_test.dart: Territory Configuration Tests All territory configs should have localization keys
00:00 +12 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Game State Tests GameState should initialize with correct default values
00:00 +13 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Game State Tests GameState should serialize and deserialize correctly
00:00 +14 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Game State Tests GameState should calculate total population correctly
00:00 +15 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Territory Configuration Tests Territory thresholds should be correctly defined
00:00 +16 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Territory Configuration Tests getAvailableConfigs should work correctly
00:00 +17 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Territory Configuration Tests getNextUnlockConfig should work correctly
00:00 +18 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Number Formatter Tests Should format numbers correctly
00:00 +19 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Number Formatter Tests Should format time correctly
00:00 +20 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Number Formatter Tests Should format percentage correctly
00:00 +21 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Game Provider Tests Should initialize with default game state
Loading events from Firebase...
Firebase not available, loading from JSON...
Error loading event data from JSON: Binding has not yet been initialized.
The "instance" getter on the ServicesBinding binding mixin is only available once that binding has been initialized.
Typically, this is done by calling "WidgetsFlutterBinding.ensureInitialized()" or "runApp()" (the latter calls the former). Typically this call is done in the "void main()" method. The "ensureInitialized" method is idempotent; calling it multiple times is not harmful. After calling that method, the "instance" getter will return the binding.
In a test, one can call "TestWidgetsFlutterBinding.ensureInitialized()" as the first line in the test's "main()" method to initialize the binding.
If ServicesBinding is a custom binding mixin, there must also be a custom binding class, like WidgetsFlutterBinding, but that mixes in the selected binding, and that is the class that must be constructed before using the "instance" getter.
00:00 +22 -4: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Game Provider Tests Manual immigration should work
00:00 +22 -5: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Game Provider Tests Manual immigration should work [E]
  Expected: <2>
    Actual: <3>
  
  package:matcher                                     expect
  package:flutter_test/src/widget_tester.dart 474:18  expect
  test\widget_test.dart 192:7                         main.<fn>.<fn>
  
00:00 +22 -5: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Game Provider Tests Should be able to get recent events
00:00 +23 -5: C:/Users/moxch/Documents/GitHub/krugou.github.io/test/widget_test.dart: Game Provider Tests Should be able to get territory by ID
00:00 +24 -5: Some tests failed.
